name: helper

on:
  workflow_call:
    inputs:
      artifactory-name:
        description: name of artifactory where file is stored
        type: string
        required: false
      file_path:
        description: test
        type: string
jobs:
  download-file:
    runs-on: ubuntu-latest
    steps:
      - name: Download generated file
        uses: actions/download-artifact@v4
        if:  ${{ inputs.artifactory-name != '' }}
        with:
          name: ${{ inputs.artifactory-name }}
          path: ./downloads  # Descarga el archivo en la carpeta local `downloads`
  check-file:
    runs-on: ubuntu-latest
    steps:
      - name: Check files
        shell: bash
        run: |
          ls -al ./ 
      - name: Check files
        shell: bash
        run: |
          value=`cat ./downloads/extractedData.json`
          echo The result is $value
  find-file-please:
    needs: download-file
    runs-on: ubuntu-latest
    steps:
      - name: Uses file
        shell: bash
        run: |
          value=`cat ${{inputs.file_path}}`
          echo The result is $value